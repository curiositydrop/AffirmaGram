<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="/mbgdigital/styles/site.css">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MBG Digital — Logo Lab</title>

  <!-- MBG style: dark theme + orange accent -->
  <style>
    :root{
      --bg:#0d0d0d; --panel:#111; --ink:#f2f2f2; --muted:#bdbdbd;
      --border:#222; --accent:#ff6f00; --accent-2:#ffa733;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:'Segoe UI',system-ui,Arial,sans-serif;
      background:var(--bg); color:var(--ink);
    }

    /* shell */
    .wrap{max-width:1200px; margin:0 auto; padding:20px}
    .grid{
      display:grid; gap:24px; grid-template-columns: 1.05fr 1.35fr;
    }
    @media (max-width: 980px){ .grid{grid-template-columns:1fr} }

    .panel{
      background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:16px;
    }

    /* inputs + chat (left) */
    .row{display:grid; grid-template-columns: 1fr auto; gap:8px; margin-bottom:10px}
    input#brand, .input input{
      background:#0f0f0f; color:var(--ink); border:1px solid var(--border);
      padding:12px 14px; border-radius:10px; width:100%;
    }
    button{
      background:var(--accent); color:#000; border:0; padding:12px 16px;
      border-radius:10px; font-weight:700; cursor:pointer;
    }
    button:hover{background:var(--accent-2)}
    button[disabled]{opacity:.6; cursor:not-allowed}

    #status{margin:8px 0 2px; color:#bbb; font-size:.95rem}
    #chat{display:grid; gap:10px; margin-top:10px}
    #chat .bot{
      background:#0f0f0f; border:1px solid var(--border); padding:14px 16px; border-radius:12px; line-height:1.5;
    }

    /* right: concepts + actions */
    h2{margin:0 0 12px; font-size:1.25rem}
    #grid{
      display:grid; gap:14px; grid-template-columns: repeat(3, minmax(0,1fr));
    }
    @media (max-width:1120px){ #grid{grid-template-columns: repeat(2,1fr)} }
    @media (max-width:560px){ #grid{grid-template-columns: 1fr} }

    .card{
      background:#0f0f0f; border:1px solid var(--border); border-radius:14px; padding:10px; text-align:center;
    }
    .card img{width:100%; height:auto; border-radius:10px; display:block}
    .card .choose{width:100%; margin-top:8px}

    #actions{display:grid; gap:12px; margin-top:16px}
    #actions label{display:grid; gap:8px; color:#d1d1d1; font-size:.95rem}
    #actions .btns{display:grid; grid-auto-flow:column; gap:10px}
    @media (max-width:560px){ #actions .btns{grid-auto-flow:row} }

    /* subtle divider */
    .bar{height:2px; background:linear-gradient(90deg, transparent, var(--accent), transparent); margin:14px 0}
 .progress-line{
  border:1px solid var(--border);
  border-radius:10px; padding:10px; background:#0f0f0f;
}
.progress-line .bar-inner{
  display:block; height:6px; width:32%;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  border-radius:6px; transition: width .3s ease;
  margin-bottom:8px;
}
.soft-error{
  border:1px dashed #444; background:#141414; padding:12px; border-radius:10px; margin-top:8px;
}
.soft-error .retry-btn{
  margin-top:8px; background:var(--accent); color:#000; border:0; padding:8px 12px; border-radius:8px; font-weight:700; cursor:pointer;
}
.card.selected{ outline:2px solid var(--accent); outline-offset:2px; }
  /* force simple text-input mode */
.chips{ display:none !important; }
  /* Make primary action pop (Generate Concepts) */
.primary{
  background: linear-gradient(180deg, var(--accent), #ff8a1a);
  color:#000; border:0;
  padding:14px 18px; border-radius:12px; font-weight:800;
  box-shadow: 0 10px 26px rgba(255,111,0,.28);
  transform: translateY(0);
  transition: box-shadow .2s ease, transform .04s ease, filter .2s ease;
}
.primary:hover{ filter:brightness(1.03); box-shadow:0 14px 32px rgba(255,111,0,.35); }
.primary:active{ transform: translateY(1px); }

/* Calm down other in-flow buttons (e.g., Next, Add note) */
.bot button:not(.primary){
  background:#151515; color:var(--ink);
  border:1px solid var(--border); border-radius:10px;
  padding:12px 14px; font-weight:600;
}
.bot button:not(.primary):hover{ border-color:var(--accent); }

/* Mobile: make the main action full-width for tap confidence */
@media (max-width:560px){
  .primary{ width:100%; font-size:1.05rem; }
}

/* Subtle polish */
.bot.examples{ border:1px solid var(--border); border-radius:12px; }
.card:hover{ border-color:var(--accent); }
  </style>
</head>
<body>

 <div id="site-header"></div>

  <div class="wrap">
    <div class="grid">
      <!-- LEFT: conversation / inputs -->
      <section class="panel">
        <h2>Logo Lab</h2>
        <div class="row">
          <input id="brand" placeholder="Your brand name"/>
          <button id="next1">Next →</button>
        </div>

        <div id="status">Ready.</div>
        <div class="bar"></div>

        <!-- chat stream (do not rename id) -->
        <div id="chat"></div>
      </section>

      <!-- RIGHT: concepts + actions -->
      <section class="panel">
        <h2>Concepts</h2>

        <!-- concepts grid (do not rename ids) -->
        <section id="gallery" hidden>
          <div id="grid"></div>
        </section>

        <!-- actions (do not rename ids) -->
        <div id="actions" hidden>
          <label>
            <input type="checkbox" id="fineprint"/>
            <small>
              All DIY project sales are final. Preview concepts are AI-generated. 
              MBG Digital is not responsible for trademark clearance, uniqueness, or legal suitability.
            </small>
          </label>
          <div class="btns">
            <button id="buy-diy" disabled>DIY Pack ($29)</button>
            <button id="buy-pro" disabled>Pro Polish ($149)</button>
          </div>
        </div>
      </section>
    </div>
  </div>
<div id="site-footer"></div>
  <!-- Keep your working JS exactly as-is; just bump cb when you change it -->
  <script src="logo-lab.js?cb=14" defer></script>

  <!-- Loader script for header/footer -->
  <script>
async function loadPart(id, url){
  const el = document.getElementById(id);
  if(!el) return;
  const res = await fetch(url, {cache:'no-store'});
  el.innerHTML = await res.text();

  // After header loads, highlight the active nav item
  if (id === 'site-header') highlightActive(el);
}

// Normalize a path: lowercase, strip trailing "index.html" and trailing "/"
function normPath(p){
  p = (p || '').toLowerCase();
  p = p.replace(/index\.html$/, '');
  if (p.length > 1 && p.endsWith('/')) p = p.slice(0, -1);
  return p;
}

function highlightActive(container){
  const current = normPath(location.pathname);
  const links = container.querySelectorAll('.nav-links a');

  links.forEach(a => {
    const raw = a.getAttribute('href') || '';
    // Resolve relative or root-relative hrefs to an absolute URL, then compare pathnames
    const abs = new URL(raw, location.href);
    const target = normPath(abs.pathname);

    if (current === target) {
      a.classList.add('active');
    }
  });
}

// Load partials
loadPart('site-header','/mbgdigital/partials/header.html');
loadPart('site-footer','/mbgdigital/partials/footer.html');
</script>
</body>
</html>
